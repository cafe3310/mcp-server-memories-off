# 需求: Markdown 内容推荐功能

- **状态**: 待办
- **优先级**: 中

## 1. 目标

建立一套智能模板系统，用于在创建新的知识实体时，向用户推荐实体类型和内容的标准标题，以提高内容创作的效率和规范性。

## 2. 功能设计

这是一个三层推荐系统：

1.  **基础结构层**: 所有新创建的实体都默认采用 `## 二级标题` + `正文` 的基础排版。
2.  **全局推荐层**: 系统内置一套适用于任何类型实体的“通用标题”，例如 `## 摘要` 和 `## 笔记`。
3.  **本地知识库推荐层**: 通过解析知识库根目录下的 `meta.md` 文件，实现个性化的类型和标题推荐。

## 3. `meta.md` 格式规范

`meta.md` 本身是一个标准的知识实体，拥有和其他实体一致的 Front Matter 结构。其正文通过特定的 Markdown 结构来定义推荐规则。

**文件内容示例**:
```markdown
---
entity type: KnowledgeBase Metadata
aliases:
  - 元数据
date created: 2025-10-25
date modified: 2025-10-25
relations: []
---

# 关于此知识库

本文档用于定义本知识库的元数据，例如推荐的实体类型和内容模板。

## 建议的实体类型

- Project
- Meeting Note
- Person

## 内容模板

### 实体类型: Project

- `## 项目目标`
- `## 关键里程碑`
- `## 相关人员`

### 实体类型: Meeting Note

- `## 会议议程`
- `## 参与者`
- `## 行动项`
```

## 4. 工作流程

1.  当用户请求创建新实体时，系统首先读取并解析知识库根目录下的 `meta.md` 文件。
2.  系统从 `meta.md` 正文的 `## 建议的实体类型` 区域获取推荐的实体类型列表，并呈现给用户。
3.  用户为新实体选定一个类型（例如 `Project`）。
4.  系统在创建对应的 `.md` 文件时，从 `meta.md` 正文的 `## 内容模板` 区域查找该实体类型的模板。
5.  如果找到匹配的模板（例如 `### 实体类型: Project`），系统就将模板中定义的建议标题（如 `## 项目目标` 等）预先填入新文件的正文中。
6.  如果未找到匹配的模板，系统将使用“全局推荐层”的通用标题。
